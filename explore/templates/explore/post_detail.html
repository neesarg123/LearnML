{% extends "explore/base.html" %}

{% block section %}

<section class="posts-section-d">
	<div class='scroll-div'>
		<input id='scroll_height' value="" disabled></input>
	</div>
	<div class="posts-content-d">
		<div class="post-card-detail-d">
			<div class="post-card-container-d", id="post-card-container-d">
				<div class="pic-name-date">
					<img class="small-prof-pic" src="{{ object.author.profile.image.url }}">
					<p class="post-author-and-date"><a class="post-author-and-date" href="{% url 'user-posts' post.author.username %}">{{ object.author }}, {{ object.date_posted|date:"N d, Y" }}</a></p>
					
					{% if user == object.author %}
						<div class="edit-delete-container">
							<a href="update">
								<i id="edit-link" class="fas fa-pencil-alt"></i></a>
							<a href="delete">
								<i id="delete-link" class="fas fa-trash-alt"></i></a>
						</div>
					{% endif %}
				</div>
				<h2 class="post-title-link">{{ object.title }}</h2>
				<p class="post-audience">{{ object.audience }}</p>

				<div class=post-content-container>
					<p class="post-content">{{ object.content|safe }}</p>
				</div>
				
				
			</div>
		</div>
</section>
<script type="text/javascript">
	window.onscroll = function () {
		var elem = document.getElementById("post-card-container-d");
		document.getElementById('scroll_height').value = '{{ object.title }} | {{ object.author }} | ' + Math.ceil((Math.ceil((scrollY + window.innerHeight - 100) / (elem.clientHeight) * 100)) / 5) * 5 + '%'
	};

</script>
{% endblock section %}