{% extends "explore/base.html" %}

{% block section %}
<section class="filter-sections">
	<form method="GET" action=".">
		<div class="search-form">
			<div class="search-box">
				{% if 'search_post' in request.get_full_path %}
					<input class="search-text" type="text" name="search_post" value="{{ request.GET.search_post }}" placeholder="search your curiosity">
				{% else %}
					<input class="search-text" type="text" name="search_post" placeholder="search your curiosity">
				{% endif %}
				<button class="search-btn" type="submit">
					<i class="fas fa-space-shuttle"></i>
				</button>
			</div>
		</div>
		<div class="audience-form">
			<div class="audience-selection">
				{% if 'audience_filter' not in request.get_full_path or request.GET.audience_filter == '' or 'search_post' not in request.get_full_path %}			
				<button class="audience-btn-all-selected" type="submit" value="" name="audience_filter">
					all
				</button>
				{% else %}
				<button class="audience-btn-all" type="submit" value="" name="audience_filter">
					all
				</button>
				{% endif %}
				{% if  'audience_filter=BEG' in request.get_full_path %}	
				<button class="audience-btn-beg-selected" type="submit" value="BEG" name="audience_filter">
					beginner
				</button>
				{% else %}
				<button class="audience-btn-beg" type="submit" value="BEG" name="audience_filter">
					beginner
				</button>
				{% endif %}
				{% if 'audience_filter=INT' in request.get_full_path%}
				<button class="audience-btn-int-selected" type="submit" value="INT" name="audience_filter">
					intermediate
				</button>
				{% else %}
				<button class="audience-btn-int" type="submit" value="INT" name="audience_filter">
					intermediate
				</button>
				{% endif %}
				{% if  'audience_filter=EXP' in request.get_full_path %}
				<button class="audience-btn-exp-selected" type="submit" value="EXP" name="audience_filter">
					expert
				</button>
				{% else %}
				<button class="audience-btn-exp" type="submit" value="EXP" name="audience_filter">
					expert
				</button>
				{% endif %}
			</div>		
		</div>
	</form>
	
	
</section>
<section class="posts-section">
	<div class="posts-content">
		{% for post in posts %}
		<div class="post-card">
			<div class="post-card-container">
				<div class="pic-name-date">
					<img class="small-prof-pic" src="{{ post.author.profile.image.url }}">
					<p class="post-author-and-date">{{ post.author }}, {{ post.date_posted|date:"N d, Y" }}</p>
				</div>
				<h2><a class="post-title-link" href="{% url 'post-detail' post.id post.title %}">{{ post.title }}</a></h2>
				<p class="post-audience">{{ post.audience }}</p>
				<div class=post-content-container>
					<p class="post-content">{{ post.content|safe }}</p>
				</div>
				
			</div>
		</div>
		<div class="readability-card">
			<div class="readability-card-container">
				<input type="radio" onclick="if(this.checked){console.log(10)}" name="rating" id="rate10{{ forloop.counter0 }}"><label for="rate10{{ forloop.counter0 }}">10</label>
				<input type="radio" onclick="if(this.checked){console.log(9)}" name="rating" id="rate9{{ forloop.counter0 }}"><label for="rate9{{ forloop.counter0 }}">9</label>
				<input type="radio" onclick="if(this.checked){console.log(8)}" name="rating" id="rate8{{ forloop.counter0 }}"><label for="rate8{{ forloop.counter0 }}">8</label>
				<input type="radio" onclick="if(this.checked){console.log(7)}" name="rating" id="rate7{{ forloop.counter0 }}"><label for="rate7{{ forloop.counter0 }}">7</label>
				<input type="radio" onclick="if(this.checked){console.log(6)}" name="rating" id="rate6{{ forloop.counter0 }}"><label for="rate6{{ forloop.counter0 }}">6</label>
				<input type="radio" onclick="if(this.checked){console.log(5)}" name="rating" id="rate5{{ forloop.counter0 }}"><label for="rate5{{ forloop.counter0 }}">5</label>
				<input type="radio" onclick="if(this.checked){console.log(4)}" name="rating" id="rate4{{ forloop.counter0 }}"><label for="rate4{{ forloop.counter0 }}">4</label>
				<input type="radio" onclick="if(this.checked){console.log(3)}" name="rating" id="rate3{{ forloop.counter0 }}"><label for="rate3{{ forloop.counter0 }}">3</label>
				<input type="radio" onclick="if(this.checked){console.log(2)}" name="rating" id="rate2{{ forloop.counter0 }}"><label for="rate2{{ forloop.counter0 }}">2</label>
				<input type="radio" onclick="if(this.checked){console.log(1)}" name="rating" id="rate1{{ forloop.counter0 }}"><label for="rate1{{ forloop.counter0 }}">1</label>
			</div>
		</div>
		{% endfor %}
</section>

{% endblock section %}